# 3.1.4@ControllerAdvice--控制器功能共享

    @ControllerAdvice注解是一个特殊的@Component，顾名思义，它负责所有控制器共享的功能，如：

* 异常处理（配合@ExceptionHandler）
* 数据绑定（配合@InitBinder）

    @ControllerAdvice通过属性指定生控制器的生效范围，如：

* annotations属性限制注解
* 默认属性限制包名
* assignableTypes属性限制控制器

1、异常处理

    使用@ExceptionHandler组合@ControllerAdvice可处理所有控制器的异常。当然，@ExceptionHandler也可以注解在@Controller（包含@RestController）内，异常处理只对当前控制器有效。

* 默认属性为要处理的异常类型

    将该注解标注在自定义异常处理方法上即可生效。

2、数据绑定

    使用@InitBinder注解组合@ControllerAdvice，可实现初始化数据绑定。所谓初始化数据绑定，即在Web请求进入控制器方法处理之前，对Web请求参数进行预先的初始化处理，这个处理是通过WebDataBinder对象来做的。下面是最简单的一段程序：

```text
@InitBinder
    public void bind(WebDataBinder binder){
        binder.registerCustomEditor(User.class,new UserEditor());
    }
```

